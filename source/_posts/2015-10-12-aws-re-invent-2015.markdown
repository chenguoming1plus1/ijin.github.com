---
layout: post
title: "AWS re:Invent 2015に参加してきた"
date: 2015-10-22 02:26
comments: true
categories: 
- events
- aws
---

今年で3度目の参加となるAWS re:Invent。
忘れない内に記録を残しておきます。

## Day 0 ##

### Game Day ###

Unicornを貸し出すサービスを展開する仮想のスタートアップ企業にDevOpsチームとして最近入社したという設定。前任者が退職しており、資料が少ない中でサービスオープンに立ち会いつつ、様々な困難に直面するというフルデイ・イベント。
今までのGame Dayと違って面白いのはパフォーマンス・チューニングをしつつも、コストも意識しながらチーム間でスコアを競争するところ。アプリは触れないので、[ISUCON](http://isucon.net/)よりは昔やった[チューニンガソン](/blog/2012/07/03/tuningathon4/)に近い感じ。

スコアは累積の損益。アーキテクチャによっては利益が出たり損失が出たりする。例えば、多くのリクエストが処理できると利益は増すが、AWSのリソースが多いと費用が掛かって損失になりうる。
当然最初は各チームは赤字から始まり、時間とともに積算した利益によって黒転して行く様が目新しかった。

結果、48チーム中で**6位**。（上位2チームはチートで失格となったので**実質は4位**）

{% img https://lh3.googleusercontent.com/H8zoy7lrftuIo9ZQTN_LsUC3KsiGsNkOJbPzuW4vAxy4o6IOAH8=w547-h298-no %}

{% tweet https://twitter.com/KyleLichtenberg/status/651573816301219840 %}

ちなみに最速レスポンスタイムはうちのチームが叩きだした。

{% img https://lh3.googleusercontent.com/X7T6tN_hkoJ9S9e0z6hZuTtpZSa0v8DCD4sntvCYD9W6tQIJURw=w408-h544-no %}

詳細は今度日本で開催されるかも知れないので控えておくが、非常に楽しめたので次回は運営側に回って手伝おうかと思います！

## Day 1 ##

### Keynote ###

Andy Jessy副社長による発表。今年のテーマは「**自由**」

- Amazon QuickSight
- Amazon Kinesis Firehose
- Amazon Snowball
- MariaDB for RDS
- AWS Database Migration Service
- AWS Schema Conversion Tool
- AWS Config Rules
- Amazon Inspector

{% img https://lh3.googleusercontent.com/SSI_hMC3cjzUSvGPxT49FD26VBeY_QYt_qGoTLDPo8nBLwdmglM=w493-h544-no %}

~~Oracle~~からの自由、解放！

### WRK306 - AWS Professional Services Architecting Workshop ###

実在した、ある企業のクラウド移行案件。RFP的なモノがあり、アーキテクチャをチーム内で議論し、最後にそれぞれ各チームが発表していく流れ。
かつてjawsugで主催を手伝ったワールドカフェ形式とほぼ同じだったので、チームメンバーを先導してCacooでさくさく構成図を起こしていく。
他のチームが模造紙にラフスケッチで発表する中、我らは綺麗に正本して、プロジェクターで登壇しながら発表。

{% tweet https://twitter.com/ijin/status/651869691699425281 %}

最後に実際にどう移行したかというAWSチームからの回答。まず、移行フェーズを段階的に分け、最初はシステムをほぼそのままクラウド上に乗せた後に部分的に最適化してコンポーネントを置き換えて行ったという話。最後にLambdaになっていた部分があったのが興味深かった。

早く新サービスに対応したAWS Simple Iconsのアップデートが待たれるところ。

{% img https://lh3.googleusercontent.com/IVrSN7g0MnAfVa6pB4ajQWUZYPmpFMOH6Ych-FedX1HqxCfEHtc=w583-h346-no %}

今回提案した内容。

### WRK305 - Zombie Apocalypse Survival: Building Serverless Microservices ###

Zombie Apocalypseが起こって、人類存亡の危機！途中まで実装されたチャットルームの機能を拡張・実装して危機を救え！というシナリオの元、LambdaとAPI Gatewayとjavascript sdkで実装されたサーバーレスアーキテクチャのワークショップ。

機能拡張の為に実装が必要なので、設計しながらチーム内で作業分担し、コードをせっせと書いていく。
ゾンビ出現のアラート通知、ヒートマップ描画、アンデッドカウンター、緊急食料倉庫の位置情報配信等、面白い機能要求が盛り沢山。

{% img https://lh3.googleusercontent.com/-UStcIzDdtS42SZTgt657iKvYHWlbcfktbvuCq3-LIioBfrBzgI=w600-h346-no %}

ささっとSlack部屋を作り、githubでコードを共有しながらのチームワーク作業。多分、うちらのチームが一番多く実装できた感触。

{% img https://lh3.googleusercontent.com/WZ7nUMvRhoNzixWqjEdCFJ1wJqNH-BqjV4M4cq93mBXBnJ8UPOk=w493-h544-no %}

このワークショップはかなりの人気で、開始30分前にすでに長蛇の列が。
運良くぎりぎり最後の参加者として入れたけど、皆どれだけゾンビが好きなんだ。。

## Day 2 ##

### Keynote ###

Wernerl Vogels CTOの発表。

- Amazon Kinesis Analytics
- X1 instance (100 cores, 1TB RAM)
- t2.nano instance
- Amazon EC2 Container Registry
- Lambda
  - VPC support
  - Long running Functions (300s)
  - Scheduled Functions
  - Custom Retry Logic
  - Python
- AWS IOT

{% img https://lh3.googleusercontent.com/A4p3UvP0JiMxjpZF7L0zxdMFkU96aOYtZ-BExM2zFERDsebakXw=w493-h543-no %}

前日にAndyが7つの自由を語って、当日はWernerが7つの法則を語る。

### WRK308 - AWS + ASK: Teaching Amazon Echo New Skills ###

Amazon Echoを使った、Alexaのプログラミングワークショップ。音声によって、Echo経由でLambdaイベントを呼び出し、Alexaサービスと連携するカスタマイズしたスキルセットを実装して行く。

例えば、Alexaに好きな色を覚えさせて、後ほど聞くと答えてくれる機能とか。全てボイスコントロール。[吉田さんの英語でも通じた](http://yoshidashingo.hatenablog.com/?page=1445224481)ので、かなり優秀。

新品のEchoを開封して使ったので、最後に貰える物かとささやかに期待したものの、$15のAWSクーポン配布のみ。さすがFrugalなAmazonさん。

{% tweet https://twitter.com/ijin/status/652234646231646208 %}

### re:Play ###

EDMの若きプリンスDJ、Zeddをシークレットゲストとして呼んでのアフター。

{% tweet https://twitter.com/rukes/status/652400784353595392 %}

もう完全にWernerのパーティー。

{% youtube cT676BMT7A8 %}

Zeldaのremixが良かった。

### 終わりに ###

結局セッションは一つも出なかったです。まあ、ビデオやスライドは公開されるので内容自体は後で把握可能なので別にいいかな。授業を聞きに来た分けでもないし。
それよりも、現地に来ているエンジニアと交流したり、実装まで含んだハンズオンのワークショップをやった方が楽しいし、糧となる。後はトレンドを肌感覚として知るには最高の場所なので行った事ない人には是非オススメしておきたい。
